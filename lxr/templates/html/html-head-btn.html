<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--$Id: html-head-btn.html,v 1.8 2012/11/14 11:28:13 ajlittoz Exp $ -->

<!--				html-head.html
		A generic template for the top of all pages generated by LXR -->

<!-- ajlittoz <ajlittoz@users.sf.net>	-->

<!--
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-->

<!--+This is an example of a "sticky" non-SSI comment -->

<html>
<head>
	<title>$title</title>
	<meta http-equiv="content-type" content="text/html; charset=$encoding">
	<base href="$baseurl">
	<link rel="stylesheet" type="text/css" href="$stylesheet">
$alternatestyle{	<link rel="alternate stylesheet" type="text/css" href="$stylesheet" title="$stylename">
}	<link  rel="icon" type="image/x-icon" href="LXRimages/LXRlogo32.ico">
<!-- Candidat à destruction -->
<!-- placer le script seulement où il y a besoin -->
<script type="text/javascript" src="./templates/html/html_head_btn_files/plat.js"></script>
<script type="text/javascript">
var VerId="$sid";
var PlaId="$pid";
var DirId="$fid";
var TesId="$tid";

var s=["v","a","f","t"];
var opt0=["选择版本","选择平台","选择目录类型","选择测试用例"];
function getr(name)
{
    if(document.cookie.length>0)
    {
        var start;
	var end;
	start=document.cookie.indexOf(name+"=");
	if (start!=-1) 
	{
	    start=start+name.length+1;
	    end=document.cookie.indexOf(";",start);
	    if (end ==-1) end=document.cookie.length;
	    return unescape(document.cookie.substring(start,end));
	}
    }
    return "";
}
function get()
{
	
    var VI=escape("VI");
    var PI=escape("PI");
    var DI=escape("DI");
    var TI=escape("TI");
	//alert("getr(VI)="+getr(VI)+"\ngetr(PI)="+getr(PI)+"\ngetr(DI)="+getr(DI));
    if(getr(VI)!=null && getr(VI)!="") VerId=getr(VI);
    if(getr(PI)!=null && getr(PI)!="") PlaId=getr(PI);
    if(getr(DI)!=null && getr(DI)!="") DirId=getr(DI);
    if(getr(TI)!=null && getr(TI)!="") TesId=getr(TI);

}

function setup()
{
	for(i=0;i<s.length-1;i++)
	{
        	document.getElementById(s[i]).onchange=new Function("change("+(i+1)+")");
        }
	//alert("VerId="+VerId+"PerId="+PlaId+"VerId="+DirId);
	setvalue(0,VerId);
	setvalue(1,PlaId);
	setvalue(2,DirId);
        setvalue(3,TesId);
        TesId=escape(selValue(this.t));

}
function setvalue(num,id) 	
{
	change(num);
	
	//alert("in set value0");
	var oTemp=document.getElementById(s[num]);
	//alert("in set value1");
	//alert("oTemp[i].value="+oTemp.length);
	for(var i=0;i<oTemp.length;i++){
		//alert("oTemp[i].value="+oTemp[i].value+"---id="+id);
		if(oTemp[i].value==id){
		//	alert("oTemp[i].value==id");
			oTemp[i].selected=true;
			break;		
		}
	}
	
}



function ensureFocus()
{
  if (document.getElementById("focus"))
	  {
	  document.getElementById("focus").focus();
	  }
}
function selValue(selBox){
return selBox.options[selBox.selectedIndex].value;
}
function set(objForm){
	
	
	VerId=escape(selValue(objForm.v));
	PlaId=escape(selValue(objForm.a));
	DirId=escape(selValue(objForm.f));
        TesId=escape(selValue(objForm.t));

	var VI=escape("VI");
	var PI=escape("PI");
	var DI=escape("DI");
	var TI=escape("TI");

	var exdate=new Date();
	exdate.setTime(exdate.getTime()+3600000);
	document.cookie=VI+"="+VerId+";"+exdate.toGMTString();
	document.cookie=PI+"="+PlaId+";"+exdate.toGMTString();
	document.cookie=DI+"="+DirId+";"+exdate.toGMTString();
        document.cookie=TI+"="+TesId+";"+exdate.toGMTString();

//alert("setr(VI)="+objForm.v.selectedIndex+"\nset(PI)="+objForm.a.selectedIndex+"\nsetr(DI)"+objForm.f.selectedIndex);
	
	
	

}
</script>
</head>


<body onload="">

<table class="header">
$forest{	<tr>
		<td class="treelink" colspan="4">
			Available trees: &nbsp;&nbsp;&nbsp;
$trees{&nbsp;$treelink&nbsp;
}		</td>
	</tr>
}	<tr>
		<td class="leftmost">
<!-- put local logo or links here -->
			<a href="/">
<img	src="LXRimages/LXRlogo64.jpeg"
		alt="Back to home page"
		style="border: none"
>
			</a>
		</td>
		<td>
			<table class="header">
				<tr>
					<td>
						<h1 class="main">$caption</h1>
					</td>
				</tr>
				<tr>
					<td class="banner">$banner</td>
				</tr>
			</table>
		</td>
		<td class="rightmost">
		<form id="menu_form" action="" method="post">
		<select id="menu" onchange="changeAction()">
		$modes{
			<option value ="$modeaction?$urlargs{$urlvar=$urlval&}"$modeselect>$modename</option>
			}
		</select>
		</form>
		</td>
	</tr>	
	<tr><td colspan='4'>&nbsp;</td></tr>
	<tr>
		<td>$atticlink</td>
		<td colspan='3' class="rightmost">
			<form	method="get" class="vars" action="$varbtnaction" onsubmit="return set(this)">
				<p class="compact">
<!--
$urlargs{					<input type="hidden" name="$urlvar" value="$urlval">
}$variables{				&nbsp;<label>$varname:
					<select name="!$varid">
$varmenu{						<option class="$itemclass" $itemsel>$varvalue</option>
}					</select>
					</label>
}
-->
	版本：<select name="v" id="v"></select>目录类型：<select name="f" id="f"></select>平台：<select name="a" id="a"></select>测试用例：<select name="t" id="t"></select>




					
					<button type=reset>Revert</button>&nbsp;&nbsp;
					<button type=submit>Change</button>
				</p>
			</form>
		</td>
	</tr>
</table>
<script type="text/javascript">
	/*
	get();
	*/
	setup();
	function changeAction(){
		var selectObj=document.getElementById('menu');
		var selectValue=selectObj.value;
		var selectIndex=selectObj.selectedIndex;
		selectObj.options[selectIndex].selected=true;
		var formObj=document.getElementById('menu_form');
		formObj.action=selectValue.substring(0,selectValue.length-1);
		formObj.submit();
	}
</script>


<hr>
